SET(CMAKE_CXX_FLAGS "${CMAKE_ORIG_FLAGS} -O0")

INCLUDE_DIRECTORIES(${BOOST_INCLUDE_PATH} ${PYTHON_INCLUDE_PATH})
LINK_LIBRARIES(${BOOST_LIBRARY} EM2)

IF(CMAKE_SYSTEM MATCHES "IRIX.*")
    INCLUDE_DIRECTORIES(${BOOST_INCLUDE_PATH}/boost/compatibility/cpp_c_headers)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -LANG:std")
ENDIF(CMAKE_SYSTEM MATCHES "IRIX.*")


ADD_LIBRARY(pyGeometry2 SHARED libpyGeometry2.cpp)
ADD_LIBRARY(pyFactory2 SHARED libpyFactory2.cpp)
ADD_LIBRARY(pyUtils2 SHARED libpyUtils2.cpp)
ADD_LIBRARY(pyFilter2 SHARED libpyFilter2.cpp)
ADD_LIBRARY(pyEMData2 SHARED pyem.C libpyEMData2.cpp)

INSTALL_TARGETS(/lib pyGeometry2 pyFactory2 pyUtils2 pyFilter2 pyEMData2)
INSTALL_FILES(/lib "^.+\\.py$")
INSTALL_FILES(/include "^.+\\.h$")

