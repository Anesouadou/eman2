SET(CMAKE_CXX_FLAGS "${CMAKE_ORIG_FLAGS} ${EMAN_CXX_FLAGS} -O0")

INCLUDE_DIRECTORIES(${BOOST_INCLUDE_PATH} ${PYTHON_INCLUDE_PATH})
LINK_LIBRARIES(${BOOST_LIBRARY} EM)

IF(CMAKE_SYSTEM MATCHES "IRIX.*")
	INCLUDE_DIRECTORIES(${BOOST_INCLUDE_PATH}/boost/compatibility/cpp_c_headers)
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -LANG:std -mips4")
ENDIF(CMAKE_SYSTEM MATCHES "IRIX.*")


ADD_LIBRARY(pyEM SHARED
		 pylist.C
		 pyem.C
		 libpyEM.cpp
)

INSTALL_TARGETS(/lib pyEM)
INSTALL_FILES(/include "^.+\\.h$")
